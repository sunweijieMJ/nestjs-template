{
  "permissions": {
    "allow": [
      "Bash(pnpm run:*)",
      "Bash(pnpm :*)",
      "Bash(make -C docker:*)",
      "Bash(npx hygen:*)",
      "Bash(docker compose:*)",
      "Bash(docker exec:*)",
      "Bash(curl:*)",
      "Bash(git status:*)",
      "Bash(git log:*)",
      "Bash(git diff:*)",
      "Bash(git branch:*)",
      "Bash(git stash:*)",
      "Bash(git add:*)",
      "Bash(git show:*)"
    ],
    "deny": [
      "Bash(git push --force:*)",
      "Bash(git reset --hard:*)",
      "Bash(git checkout -- .:*)",
      "Bash(git clean -f:*)",
      "Bash(rm -rf:*)",
      "Bash(pnpm run schema:drop:*)",
      "Bash(pnpm schema:drop:*)"
    ]
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "file=\"$TOOL_INPUT_FILE_PATH\"; if echo \"$file\" | grep -q 'src/infrastructure/database/migrations/.*\\.ts$'; then committed=$(git log --oneline -- \"$file\" 2>/dev/null | head -1); if [ -n \"$committed\" ]; then echo 'âŒ ç¦æ­¢ä¿®æ”¹å·²æäº¤çš„ Migration æ–‡ä»¶: '\"$file\"; echo 'è¯·ä½¿ç”¨ pnpm migration:generate ç”Ÿæˆæ–°çš„è¿ç§»'; exit 1; fi; fi"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "echo 'ğŸ“‹ é¡¹ç›®: NestJS Boilerplate (å…­è¾¹å½¢æ¶æ„)' && echo 'ğŸŒ¿ å½“å‰åˆ†æ”¯:' $(git branch --show-current) && echo '' && changed=$(git status --short | head -10) && if [ -n \"$changed\" ]; then echo 'ğŸ“ æœªæäº¤çš„æ–‡ä»¶:' && echo \"$changed\"; else echo 'âœ… å·¥ä½œç›®å½•å¹²å‡€'; fi && echo '' && echo 'âš ï¸  æé†’: Domain å®ä½“ä¸å¼•å…¥ TypeORM | Service ä¾èµ–æŠ½è±¡ Repository | é…ç½®å¿…é¡»ç”¨ ConfigService'"
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "status=$(git status --short | head -5) && if [ -n \"$status\" ]; then echo 'ğŸ“ Git çŠ¶æ€:' && echo \"$status\"; fi"
          }
        ]
      }
    ]
  }
}
